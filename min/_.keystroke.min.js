/*!
 * JS keyStroke
 * Copyright (c) Evan Solomon Sat Apr 06 2013
 * Licensed MIT
 */
(function(){_.mixin({keyStroke:function(e,n,t){var r,o,u,i;return 2===arguments.length&&(t=n,n={}),n=_.defaults(n,{context:this,args:[],preventDefault:!0,modKeys:[]}),r=[],u=document.addEventListener?"addEventListener":"attachEvent",document[u]("keydown",function(e){return r=_.union(r,e.key||e.keyCode||e.which),o(e)?i(e):void 0}),document[u]("keyup",function(e){return r=_.without(r,e.key||e.keyCode||e.which)}),window[u]("focus",function(){return r=[]}),i=function(e){return n.preventDefault&&e.preventDefault(),t.apply(n.context,[e].concat(n.args))},o=function(t){var o;return _.isArray(e)?[]===_.difference(r,e):(o=e,1+n.modKeys.length!==r.length?!1:_.contains(r,o)?_.every(_.map(n.modKeys,function(e){return t[e]}),_.identity):!1)}}})}).call(this);