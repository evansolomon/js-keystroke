/*!
 * JS keyStroke
 * Copyright (c) Evan Solomon Mon Feb 18 2013
 * Licensed MIT
 */
(function(){_.mixin({keyStroke:function(e,n,t){var r,o,u,i;return null==t&&(t={}),t=_.defaults(t,{context:this,args:[],preventDefault:!0,modKeys:[]}),r=[],u=document.addEventListener?"addEventListener":"attachEvent",document[u]("keydown",function(e){return r=_.union(r,e.key||e.keyCode||e.which),o(e)?i(e):void 0}),document[u]("keyup",function(e){return r=_.without(r,e.key||e.keyCode||e.which)}),i=function(e){return t.preventDefault&&e.preventDefault(),n.apply(t.context,[e].concat(t.args))},o=function(n){var o;return _.isArray(e)?[]===_.difference(r,e):(o=e,1+t.modKeys.length!==r.length?!1:_.contains(r,o)?_.every(_.map(t.modKeys,function(e){return n[e]}),_.identity):!1)}}})}).call(this);